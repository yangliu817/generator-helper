webpackJsonp([1],{"+poS":function(e,t){},"/ePA":function(e,t){},"/ux0":function(e,t){},"10bl":function(e,t){},"2qXa":function(e,t){},"4Lmu":function(e,t){},"5jTF":function(e,t){},"7xIN":function(e,t){},ANz4:function(e,t){},DVu5:function(e,t){},EfJj:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o=a("Dd8w"),i=a.n(o),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu-item",{attrs:{index:e.indexString}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-db-table"}),e._v(" "),a("span",{staticClass:"table-name",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.table.name))]),e._v(" "),a("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)],2)},staticRenderFns:[]};var s={props:["database","index","parentIndex"],name:"Database",components:{Table:a("VU/8")({props:["table","index","parentIndex"],name:"Table",data:function(){return{indexString:this.parentIndex+"-"+(this.index+1)}},computed:{checked:{get:function(){return this.table.checked},set:function(e){this.table.checked=e}}}},l,!1,function(e){a("5jTF")},"data-v-7737f8e0",null).exports},computed:{checkAll:{get:function(){var e=this.database.tables,t=e.filter(function(e){return e.checked}).length;return t===e.length&&t>0},set:function(e){this.database.checked=e,this.$store.dispatch("setCurrentDatabase",this.database),this.$store.dispatch("checkAll",this.database)}}},data:function(){return{indexString:this.parentIndex+"-"+(this.index+1)}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-submenu",{attrs:{index:e.indexString}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-db-database"}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.database.name))]),e._v(" "),a("el-checkbox",{model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})],1),e._v(" "),e._l(e.database.tables,function(t,n){return a("Table",{key:n,attrs:{parentIndex:e.indexString,database:e.database,index:n,table:t}})})],2)},staticRenderFns:[]};var c=a("VU/8")(s,r,!1,function(e){a("10bl")},"data-v-09a36f92",null).exports,p=a("x9pK"),d=a.n(p),u=a("NYxO"),g={props:["linkInfo","index"],name:"Link",components:{Database:c},data:function(){return{indexString:this.index+1+"",subscribed:!1}},computed:i()({},Object(u.c)(["linkIsOpen"])),methods:{chooseSettingModalShow:function(){this.$store.dispatch("setCurrentLinkInfo",this.linkInfo),this.$store.dispatch("chooseSettingModalShow",!0)},editLinkModalShow:function(){this.$store.dispatch("setCurrentLinkInfo",this.linkInfo),this.$store.dispatch("editLinkModalShow",!0)},deleteLinkModalShow:function(){this.$store.dispatch("setCurrentLinkInfo",this.linkInfo),this.$store.dispatch("deleteLinkModalShow",!0)},clickLink:function(){var e=this;this.subscribed||d.a.subscribe("loadDatabases",function(t){e.$message({message:"打开连接失败!",type:"warning"})}),this.$store.dispatch("setCurrentLinkInfo",this.linkInfo),this.$store.dispatch("cancelCheckAll"),this.$store.dispatch("loadDatabases",this.linkInfo),this.$store.dispatch("loadMappings","")}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-submenu",{attrs:{index:e.indexString}},[a("template",{slot:"title"},[a("div",{on:{click:e.clickLink}},[a("i",{class:"el-icon-db-"+e.linkInfo.databaseType}),e._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.linkInfo.name))]),e._v(" "),a("div",{staticClass:"operation-group"},[a("i",{staticClass:"el-icon-setting",on:{click:function(t){return t.stopPropagation(),e.chooseSettingModalShow(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.editLinkModalShow(t)}}}),e._v(" "),a("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteLinkModalShow(t)}}})])])]),e._v(" "),e._l(e.linkInfo.databases,function(t,n){return a("Database",{key:n,attrs:{parentIndex:e.indexString,index:n,database:t}})})],2)},staticRenderFns:[]};var v={name:"LinkPanel",components:{Link:a("VU/8")(g,m,!1,function(e){a("fMp7")},"data-v-26be9cda",null).exports},computed:i()({},Object(u.b)(["linkInfos"])),data:function(){return{uniqueOpened:!0}},methods:{createLinkModalShow:function(){this.$store.dispatch("createLinkModalShow",!0)}},watch:{linkInfos:{deep:!0,handler:function(e,t){}}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-aside",{attrs:{width:"25%"}},[t("div",{staticClass:"menus",attrs:{id:"menus"}},[t("div",{staticClass:"create-new-link",on:{click:this.createLinkModalShow}},[t("i",{staticClass:"el-icon-plus"}),this._v(" "),t("span",{attrs:{slot:"title"},slot:"title"},[this._v("创建连接")])]),this._v(" "),t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":this.uniqueOpened}},this._l(this.linkInfos,function(e,a){return t("Link",{key:a,attrs:{index:a,linkInfo:e}})}),1)],1)])},staticRenderFns:[]};var h=a("VU/8")(v,f,!1,function(e){a("DVu5")},"data-v-e8ff3300",null).exports,S=a("mvHQ"),b=a.n(S),k={name:"Project",computed:i()({},Object(u.b)(["projectSetting"]))},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("项目配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"col-package",attrs:{span:4}},[e._v("\n      包名：\n      "),a("el-input",{staticClass:"input-package",attrs:{placeholder:"项目包名"},model:{value:e.projectSetting.projectPackage,callback:function(t){e.$set(e.projectSetting,"projectPackage",t)},expression:"projectSetting.projectPackage"}})],1),e._v(" "),a("el-col",{staticClass:"col-save-path",attrs:{span:6}},[e._v("\n      保存路径：\n      "),a("el-input",{staticClass:"input-save-path",attrs:{placeholder:"保存路径"},model:{value:e.projectSetting.codePath,callback:function(t){e.$set(e.projectSetting,"codePath",t)},expression:"projectSetting.codePath"}})],1),e._v(" "),a("el-col",{staticClass:"col-table-prefix",attrs:{span:4}},[e._v("\n      表前缀：\n      "),a("el-input",{staticClass:"input-table-prefix",attrs:{placeholder:"表前缀"},model:{value:e.projectSetting.tablePrefix,callback:function(t){e.$set(e.projectSetting,"tablePrefix",t)},expression:"projectSetting.tablePrefix"}})],1),e._v(" "),a("el-col",{staticClass:"col-author",attrs:{span:4}},[e._v("\n      作者：\n      "),a("el-input",{staticClass:"input-author",attrs:{placeholder:"作者"},model:{value:e.projectSetting.author,callback:function(t){e.$set(e.projectSetting,"author",t)},expression:"projectSetting.author"}})],1),e._v(" "),a("el-col",{staticClass:"col-copyright",attrs:{span:6}},[e._v("\n      版权信息：\n      "),a("el-input",{staticClass:"input-copyright",staticStyle:{"max-height":"32px"},attrs:{type:"textarea",rows:1,placeholder:"版权信息"},model:{value:e.projectSetting.copyright,callback:function(t){e.$set(e.projectSetting,"copyright",t)},expression:"projectSetting.copyright"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:7,gutter:5}},[a("el-col",{attrs:{span:8}},[a("el-radio",{staticClass:"mybatis-type",attrs:{label:1},model:{value:e.projectSetting.ormType,callback:function(t){e.$set(e.projectSetting,"ormType",t)},expression:"projectSetting.ormType"}},[e._v("mybatis")])],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-radio",{staticClass:"mybatis-type",attrs:{label:2},model:{value:e.projectSetting.ormType,callback:function(t){e.$set(e.projectSetting,"ormType",t)},expression:"projectSetting.ormType"}},[e._v("mybatis plus")])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-radio",{staticClass:"mybatis-type",attrs:{label:3},model:{value:e.projectSetting.ormType,callback:function(t){e.$set(e.projectSetting,"ormType",t)},expression:"projectSetting.ormType"}},[e._v("JPA")])],1)],1),e._v(" "),a("el-col",{attrs:{span:16,gutter:5}},[a("el-col",{attrs:{span:5}},[a("el-checkbox",{attrs:{label:"swagger注解"},model:{value:e.projectSetting.useSwagger,callback:function(t){e.$set(e.projectSetting,"useSwagger",t)},expression:"projectSetting.useSwagger"}})],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-checkbox",{attrs:{label:"shiro注解"},model:{value:e.projectSetting.useShiro,callback:function(t){e.$set(e.projectSetting,"useShiro",t)},expression:"projectSetting.useShiro"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-checkbox",{attrs:{label:"lombok注解"},model:{value:e.projectSetting.useLombok,callback:function(t){e.$set(e.projectSetting,"useLombok",t)},expression:"projectSetting.useLombok"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-checkbox",{attrs:{label:"生成service"},model:{value:e.projectSetting.createService,callback:function(t){e.$set(e.projectSetting,"createService",t)},expression:"projectSetting.createService"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-checkbox",{attrs:{label:"生成controller",disabled:!e.projectSetting.createService},model:{value:e.projectSetting.createController,callback:function(t){e.$set(e.projectSetting,"createController",t)},expression:"projectSetting.createController"}})],1)],1)],1)],1)},staticRenderFns:[]};var w=a("VU/8")(k,y,!1,function(e){a("/ePA")},"data-v-d085b4ee",null).exports,_={name:"Project",computed:i()({},Object(u.b)(["entitySetting","tableHasSelected"]),Object(u.c)(["linkIsOpen","currentLinkInfo","projectSetting"]),{singleTableMappingModalShow:{set:function(e){this.$store.dispatch("singleTableMappingModalShow",e)},get:function(){return this.$store.getters.singleTableMappingModalShow}}}),methods:{mappingModalShow:function(){var e=0,t="",a="",n=this.currentLinkInfo.databases;if(console.log(b()(n)),n.forEach(function(n){n.tables.forEach(function(o){o.checked&&(e++,a=o.name,t=n.name)})}),1!==e)this.$store.dispatch("mappingModalShow",!0);else{var o={table:a,database:t};this.$store.dispatch("loadSingleTableMapping",o),this.$store.dispatch("singleTableMappingModalShow",!0)}}},watch:{projectSetting:{deep:!0,handler:function(e,t){2===e.ormType&&(this.entitySetting.strategy="20"),3===e.ormType&&(this.entitySetting.strategy="33")}}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("entity配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[e._v("\n      包名：\n      "),a("el-input",{staticClass:"input-packkage",attrs:{placeholder:"entity包名"},model:{value:e.entitySetting.entityPackage,callback:function(t){e.$set(e.entitySetting,"entityPackage",t)},expression:"entitySetting.entityPackage"}})],1),e._v(" "),a("el-col",{staticClass:"col-primary-key-name",attrs:{span:3}},[e._v("\n      主键名：\n      "),a("el-input",{staticClass:"primary-key-name",attrs:{placeholder:"主键名"},model:{value:e.entitySetting.primaryKeyName,callback:function(t){e.$set(e.entitySetting,"primaryKeyName",t)},expression:"entitySetting.primaryKeyName"}})],1),e._v(" "),a("el-col",{staticClass:"col-primary-key-type",attrs:{span:6}},[e._v("\n      主键类型：\n      "),a("el-input",{staticClass:"primary-key-type",attrs:{placeholder:"主键类型"},model:{value:e.entitySetting.primaryKeyType,callback:function(t){e.$set(e.entitySetting,"primaryKeyType",t)},expression:"entitySetting.primaryKeyType"}})],1),e._v(" "),a("el-col",{staticClass:"col-strategy",attrs:{span:6}},[e._v("\n      主键策略：\n      "),a("el-select",{attrs:{disabled:1===e.projectSetting.ormType,placeholder:"请选择主键策略"},model:{value:e.entitySetting.strategy,callback:function(t){e.$set(e.entitySetting,"strategy",t)},expression:"entitySetting.strategy"}},[a("el-option",{attrs:{value:"0",label:"默认策略"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:2===e.projectSetting.ormType,expression:"projectSetting.ormType===2"}],attrs:{value:"31",label:"TABLE"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:2===e.projectSetting.ormType,expression:"projectSetting.ormType===2"}],attrs:{value:"32",label:"SEQUENCE"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:2===e.projectSetting.ormType,expression:"projectSetting.ormType===2"}],attrs:{value:"33",label:"IDENTITY"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:2===e.projectSetting.ormType,expression:"projectSetting.ormType===2"}],attrs:{value:"34",label:"AUTO"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"20",label:"AUTO"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"21",label:"INPUT"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"22",label:"ID_WORKER"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"23",label:"UUID"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"24",label:"NONE"}}),e._v(" "),a("el-option",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}],attrs:{value:"25",label:"ID_WORKER_STR"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("\n      父类：\n      "),a("el-input",{staticClass:"base-class-full-name",attrs:{placeholder:"父类全类名"},model:{value:e.entitySetting.baseClassFullName,callback:function(t){e.$set(e.entitySetting,"baseClassFullName",t)},expression:"entitySetting.baseClassFullName"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:11}},[a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"equal和hash"},model:{value:e.entitySetting.equalAndHash,callback:function(t){e.$set(e.entitySetting,"equalAndHash",t)},expression:"entitySetting.equalAndHash"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"toString"},model:{value:e.entitySetting.m2String,callback:function(t){e.$set(e.entitySetting,"m2String",t)},expression:"entitySetting.m2String"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"无参构造"},model:{value:e.entitySetting.noArgConstructor,callback:function(t){e.$set(e.entitySetting,"noArgConstructor",t)},expression:"entitySetting.noArgConstructor"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"链式调用"},model:{value:e.entitySetting.chain,callback:function(t){e.$set(e.entitySetting,"chain",t)},expression:"entitySetting.chain"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"info",plain:"",disabled:!e.tableHasSelected},on:{click:e.mappingModalShow}},[e._v("类型映射\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n      排除字段：\n      "),a("el-input",{staticClass:"exclude-column",attrs:{placeholder:"多个用,分隔"},model:{value:e.entitySetting.excludeColumns,callback:function(t){e.$set(e.entitySetting,"excludeColumns",t)},expression:"entitySetting.excludeColumns"}})],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(_,M,!1,function(e){a("/ux0")},"data-v-b6ebbdd2",null).exports,I={name:"Project",computed:i()({},Object(u.b)(["mapperSetting","projectSetting"]),Object(u.c)(["serviceSetting"])),watch:{mapperSetting:{deep:!0,handler:function(e,t){this.serviceSetting.useBaseService=e.extendBaseMapper}}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("mapper配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n      包名：\n      "),a("el-input",{staticClass:"mapper-package",attrs:{placeholder:"mapper包名",value:"mapper"},model:{value:e.mapperSetting.mapperPackage,callback:function(t){e.$set(e.mapperSetting,"mapperPackage",t)},expression:"mapperSetting.mapperPackage"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[e._v("\n      类名后缀：\n      "),a("el-input",{staticClass:"class-sufix",attrs:{placeholder:"类名后缀"},model:{value:e.mapperSetting.mapperSufix,callback:function(t){e.$set(e.mapperSetting,"mapperSufix",t)},expression:"mapperSetting.mapperSufix"}})],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-col",{attrs:{span:8}},[a("el-checkbox",{attrs:{label:"继承基础Mapper"},model:{value:e.mapperSetting.extendBaseMapper,callback:function(t){e.$set(e.mapperSetting,"extendBaseMapper",t)},expression:"mapperSetting.extendBaseMapper"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-checkbox",{attrs:{label:"@Mapper注解"},model:{value:e.mapperSetting.useMapperAnonntation,callback:function(t){e.$set(e.mapperSetting,"useMapperAnonntation",t)},expression:"mapperSetting.useMapperAnonntation"}})],1)],1)],1)],1)},staticRenderFns:[]};var L=a("VU/8")(I,j,!1,function(e){a("pym0")},"data-v-3b11e7ca",null).exports,x={name:"Project",computed:i()({},Object(u.b)(["repositorySetting","projectSetting"]),Object(u.c)(["repositorySetting"]))},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("repository配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n      包名：\n      "),a("el-input",{staticClass:"repository-package",attrs:{placeholder:"mapper包名",value:"mapper"},model:{value:e.repositorySetting.repositoryPackage,callback:function(t){e.$set(e.repositorySetting,"repositoryPackage",t)},expression:"repositorySetting.repositoryPackage"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n      类名后缀：\n      "),a("el-input",{staticClass:"class-sufix",attrs:{placeholder:"类名后缀"},model:{value:e.repositorySetting.repositorySufix,callback:function(t){e.$set(e.repositorySetting,"repositorySufix",t)},expression:"repositorySetting.repositorySufix"}})],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-col",{attrs:{span:12}},[a("el-checkbox",{attrs:{label:"@Repository注解"},model:{value:e.repositorySetting.useRepositoryAnonntation,callback:function(t){e.$set(e.repositorySetting,"useRepositoryAnonntation",t)},expression:"repositorySetting.useRepositoryAnonntation"}})],1)],1)],1)],1)},staticRenderFns:[]};var $=a("VU/8")(x,C,!1,function(e){a("XJnA")},"data-v-32f45432",null).exports,N={name:"Project",computed:i()({},Object(u.b)(["serviceSetting","projectSetting","mapperSetting"]))},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("service配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n      包名：\n      "),a("el-input",{staticClass:"input-package",attrs:{placeholder:"service包名",disabled:!e.projectSetting.createService},model:{value:e.serviceSetting.servicePackage,callback:function(t){e.$set(e.serviceSetting,"servicePackage",t)},expression:"serviceSetting.servicePackage"}})],1),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"创建接口",disabled:!e.projectSetting.createService},model:{value:e.serviceSetting.createInterface,callback:function(t){e.$set(e.serviceSetting,"createInterface",t)},expression:"serviceSetting.createInterface"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"接口I开头",disabled:!e.serviceSetting.createInterface},model:{value:e.serviceSetting.startWithI,callback:function(t){e.$set(e.serviceSetting,"startWithI",t)},expression:"serviceSetting.startWithI"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"使用基础Service",disabled:e._f("!mapperSetting.extendBaseMapper")(!e.projectSetting.createService)},model:{value:e.serviceSetting.useBaseService,callback:function(t){e.$set(e.serviceSetting,"useBaseService",t)},expression:"serviceSetting.useBaseService"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-checkbox",{attrs:{label:"事务注解",disabled:!e.projectSetting.createService},model:{value:e.serviceSetting.useTransactional,callback:function(t){e.$set(e.serviceSetting,"useTransactional",t)},expression:"serviceSetting.useTransactional"}})],1)],1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(N,E,!1,function(e){a("Uyrb")},"data-v-24e35c44",null).exports,D={name:"Project",computed:i()({},Object(u.b)(["controllerSetting","projectSetting"]))},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",[e._v("controller配置")]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[e._v("\n      包名：\n      "),a("el-input",{attrs:{placeholder:"controller包名",disabled:!e.projectSetting.createController||!e.projectSetting.createService},model:{value:e.controllerSetting.controllerPackage,callback:function(t){e.$set(e.controllerSetting,"controllerPackage",t)},expression:"controllerSetting.controllerPackage"}})],1),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n      返回值全类名：\n      "),a("el-input",{staticClass:"input-mrtf",attrs:{placeholder:"默认ModelAndView",disabled:!e.projectSetting.createController||!e.projectSetting.createService},model:{value:e.controllerSetting.methodReturnTypeFullName,callback:function(t){e.$set(e.controllerSetting,"methodReturnTypeFullName",t)},expression:"controllerSetting.methodReturnTypeFullName"}})],1),e._v(" "),a("el-col",{attrs:{span:6}},[e._v("\n      返回值静态方法：\n      "),a("el-input",{staticClass:"reurnTypeStatticMethod",attrs:{placeholder:"方法名",disabled:!e.projectSetting.createController||!e.projectSetting.createService},model:{value:e.controllerSetting.returnTypeStaticMethod,callback:function(t){e.$set(e.controllerSetting,"returnTypeStaticMethod",t)},expression:"controllerSetting.returnTypeStaticMethod"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-checkbox",{attrs:{label:"restful",disabled:!e.projectSetting.createController||!e.projectSetting.createService},model:{value:e.controllerSetting.useRestful,callback:function(t){e.$set(e.controllerSetting,"useRestful",t)},expression:"controllerSetting.useRestful"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-checkbox",{attrs:{label:"强制ID操作",disabled:!e.projectSetting.createController||!e.projectSetting.createService},model:{value:e.controllerSetting.forceIdOperate,callback:function(t){e.$set(e.controllerSetting,"forceIdOperate",t)},expression:"controllerSetting.forceIdOperate"}})],1)],1)],1)},staticRenderFns:[]};var R=a("VU/8")(D,O,!1,function(e){a("4Lmu")},"data-v-074829b7",null).exports,A={props:["mapping"],name:"DbType2JavaType",computed:i()({},Object(u.b)(["javaTypes"]))},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"db-type",attrs:{span:8}},[e._v("\n    "+e._s(e.mapping.columnType)+":\n  ")]),e._v(" "),a("el-col",{attrs:{span:16}},[a("el-select",{attrs:{placeholder:"请选择映射类型",name:e.mapping.columnType},model:{value:e.mapping.fullName,callback:function(t){e.$set(e.mapping,"fullName",t)},expression:"mapping.fullName"}},e._l(e.javaTypes,function(e,t){return a("el-option",{key:t,attrs:{label:e.fullName,value:e.fullName}})}),1)],1)],1)},staticRenderFns:[]};var q={name:"EditLinkModal",components:{DbType2JavaType:a("VU/8")(A,F,!1,function(e){a("vyHo")},"data-v-48bd0d28",null).exports},computed:i()({},Object(u.c)(["modalWidth","mappingSettings"]),{mappingModalShow:{get:function(){return this.$store.getters.mappingModalShow},set:function(e){this.$store.dispatch("mappingModalShow",e)}}}),methods:{customeMapping:function(){this.$store.dispatch("mappingModalShow",!1);for(var e=this.$refs.mappingbody.getElementsByTagName("input"),t={},a=0;a<e.length;a++){var n=e[a];t[n.getAttribute("name")]=n.value}this.$store.dispatch("customeMapping",t)}},mounted:function(){}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"字段类型映射",visible:e.mappingModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.mappingModalShow=t}}},[a("div",{ref:"mappingbody",staticClass:"mapping-body"},e._l(e.mappingSettings,function(e,t){return a("DbType2JavaType",{key:t,attrs:{mapping:e}})}),1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.mappingModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.customeMapping}},[e._v("确 定")])],1)])},staticRenderFns:[]};var B=a("VU/8")(q,U,!1,function(e){a("U21L")},"data-v-356b991f",null).exports,V={name:"ChooseSettingModal",data:function(){return{settingId:""}},computed:i()({},Object(u.c)(["modalWidth","settings"]),{chooseSettingModalShow:{get:function(){return this.$store.getters.chooseSettingModalShow},set:function(e){this.$store.dispatch("chooseSettingModalShow",e)}}}),methods:{loadSettingDetail:function(){this.$store.dispatch("loadSettingDetail",this.settingId),this.$store.dispatch("loadMappings",this.settingId),this.$store.dispatch("chooseSettingModalShow",!1)}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择配置",visible:e.chooseSettingModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.chooseSettingModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      请选择配置:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{placeholder:"请选择配置"},model:{value:e.settingId,callback:function(t){e.settingId=t},expression:"settingId"}},e._l(e.settings,function(e,t){return a("el-option",{key:t,attrs:{value:e.id,label:e.name}})}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.chooseSettingModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.loadSettingDetail}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var J=a("VU/8")(V,W,!1,function(e){a("ANz4")},"data-v-43f924dc",null).exports,H={name:"EditLinkModal",computed:i()({},Object(u.c)(["currentLinkInfoCopy","modalWidth"]),{editLinkModalShow:{get:function(){return this.$store.getters.editLinkModalShow},set:function(e){this.$store.dispatch("editLinkModalShow",e)}}}),methods:{updateLink:function(){this.$store.dispatch("updateLink"),this.$store.dispatch("editLinkModalShow",!1)}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"编辑连接",visible:e.editLinkModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.editLinkModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      连接名称:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.currentLinkInfoCopy.name,callback:function(t){e.$set(e.currentLinkInfoCopy,"name",t)},expression:"currentLinkInfoCopy.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editLinkModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.updateLink}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var Y=a("VU/8")(H,K,!1,function(e){a("YlnS")},"data-v-780806c0",null).exports,Q={name:"EditLinkModal",computed:i()({},Object(u.c)(["currentLinkInfo","modalWidth"]),{deleteLinkModalShow:{get:function(){return this.$store.getters.deleteLinkModalShow},set:function(e){this.$store.dispatch("deleteLinkModalShow",e)}}}),methods:{deleteLink:function(){this.$store.dispatch("deleteLink"),this.$store.dispatch("deleteLinkModalShow",!1)}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"删除连接",visible:e.deleteLinkModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.deleteLinkModalShow=t}}},[a("p",[e._v("\n    删除连接"),a("span",{staticClass:"link-name"},[e._v(e._s(e.currentLinkInfo.name))]),e._v(",您确定这么做吗?\n  ")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteLinkModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteLink}},[e._v("确 定")])],1)])},staticRenderFns:[]};var z=a("VU/8")(Q,X,!1,function(e){a("+poS")},"data-v-4c596c3d",null).exports,G={name:"CreateLinkModal",data:function(){return{dbs:[{name:"mysql",desp:"mysql",disabled:!1},{name:"mariadb",desp:"mariadb",disabled:!1},{name:"oracle",desp:"oracle",disabled:!1},{name:"sqlserver",desp:"sqlServer",disabled:!1}],ports:{mysql:3306,mariadb:3306,oracle:1521,sqlserver:1433}}},computed:i()({},Object(u.c)(["newLinkInfo","modalWidth"]),{createLinkModalShow:{get:function(){return this.$store.getters.createLinkModalShow},set:function(e){this.$store.dispatch("createLinkModalShow",e)}}}),methods:{createLink:function(){this.newLinkInfo.port=this.ports[this.newLinkInfo.databaseType],this.$store.dispatch("saveLink"),this.$store.dispatch("createLinkModalShow",!1)}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"创建连接",visible:e.createLinkModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.createLinkModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      连接名称:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入连接名"},model:{value:e.newLinkInfo.name,callback:function(t){e.$set(e.newLinkInfo,"name",t)},expression:"newLinkInfo.name"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      数据库:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.newLinkInfo.databaseType,callback:function(t){e.$set(e.newLinkInfo,"databaseType",t)},expression:"newLinkInfo.databaseType"}},e._l(e.dbs,function(t,n){return a("el-option",{key:n,attrs:{value:t.name,disabled:t.disabled}},[e._v(e._s(t.desp))])}),1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      主机:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入主机IP"},model:{value:e.newLinkInfo.host,callback:function(t){e.$set(e.newLinkInfo,"host",t)},expression:"newLinkInfo.host"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      用户名:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.newLinkInfo.user,callback:function(t){e.$set(e.newLinkInfo,"user",t)},expression:"newLinkInfo.user"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      密码:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.newLinkInfo.password,callback:function(t){e.$set(e.newLinkInfo,"password",t)},expression:"newLinkInfo.password"}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      端口号:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入端口号"},model:{value:e.ports[e.newLinkInfo.databaseType],callback:function(t){e.$set(e.ports,e.newLinkInfo.databaseType,t)},expression:"ports[newLinkInfo.databaseType]"}})],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"oracle"===e.newLinkInfo.databaseType,expression:"newLinkInfo.databaseType==='oracle'"}],attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      服务名:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入服务名"},model:{value:e.newLinkInfo.service,callback:function(t){e.$set(e.newLinkInfo,"service",t)},expression:"newLinkInfo.service"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createLinkModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.createLink}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var ee=a("VU/8")(G,Z,!1,function(e){a("lFhD")},"data-v-e496f28c",null).exports,te={name:"SaveSettingModal",computed:i()({},Object(u.c)(["modalWidth"]),{saveSettingModalShow:{get:function(){return this.$store.getters.saveSettingModalShow},set:function(e){this.$store.dispatch("saveSettingModalShow",e)}}}),data:function(){return{name:"新建配置"}},methods:{saveSettings:function(){this.$store.dispatch("saveSettings",this.name),this.$store.dispatch("saveSettingModalShow",!1)}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"保存配置",visible:e.saveSettingModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.saveSettingModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      配置名称:\n    ")]),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-input",{attrs:{placeholder:"请输入配置名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.saveSettingModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveSettings}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var ne=a("VU/8")(te,ae,!1,function(e){a("gPly")},"data-v-74509f5b",null).exports,oe={name:"InfoModal",computed:i()({},Object(u.c)(["modalWidth"]),{infoModalShow:{get:function(){return this.$store.getters.infoModalShow},set:function(e){this.$store.dispatch("infoModalShow",e)}}}),data:function(){return{name:"新建配置"}},methods:{saveSettings:function(){this.$store.dispatch("saveSettings",this.name),this.$store.dispatch("infoModalShow",!1)}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"软件信息",visible:e.infoModalShow,width:e.modalWidth},on:{"update:visible":function(t){e.infoModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      版本:\n    ")]),e._v(" "),a("el-col",{staticClass:"text",attrs:{span:14}},[e._v("\n      v1.4.1\n    ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      作者:\n    ")]),e._v(" "),a("el-col",{staticClass:"text",attrs:{span:14}},[e._v("\n      杨柳\n    ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      QQ:\n    ")]),e._v(" "),a("el-col",{staticClass:"text",attrs:{span:14}},[e._v("\n      574789490\n    ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      邮箱:\n    ")]),e._v(" "),a("el-col",{staticClass:"text",attrs:{span:14}},[e._v("\n      yangliu817@126.com\n    ")])],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable",attrs:{span:8}},[e._v("\n      gitee:\n    ")]),e._v(" "),a("el-col",{staticClass:"text",attrs:{span:16}},[e._v("\n      https://gitee.com/yangliu817/generator-helper\n    ")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.infoModalShow=!1}}},[e._v("关 闭")])],1)],1)},staticRenderFns:[]};var le=a("VU/8")(oe,ie,!1,function(e){a("S6l4")},"data-v-cae0e658",null).exports,se={name:"SingleTableMappingModal",computed:i()({},Object(u.c)(["singleTableMapping"]),{singleTableMappingModalShow:{get:function(){return this.$store.getters.singleTableMappingModalShow},set:function(e){this.$store.dispatch("singleTableMappingModalShow",e)}}}),methods:{setSingleTableMapping:function(){for(var e=this.$refs.mappingbody.getElementsByTagName("input"),t=[],a=0;a<e.length;a++){var n=e[a],o=n.parentNode.parentNode.getAttribute("column"),i=n.value;t.push({column:o,javaType:i})}this.$store.dispatch("setSingleTableMapping",t),this.$store.dispatch("singleTableMappingModalShow",!1)}},mounted:function(){}},re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"字段类型映射",visible:e.singleTableMappingModalShow,width:"40%"},on:{"update:visible":function(t){e.singleTableMappingModalShow=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"lable-title",attrs:{span:6}},[e._v("\n      字段名\n    ")]),e._v(" "),a("el-col",{staticClass:"lable-title",attrs:{span:8}},[e._v("\n      字段类型\n    ")]),e._v(" "),a("el-col",{staticClass:"lable-title",attrs:{span:10}},[e._v("\n      java类型\n    ")])],1),e._v(" "),a("hr"),e._v(" "),a("div",{ref:"mappingbody",staticClass:"mapping-body"},e._l(e.singleTableMapping.mappings,function(t,n){return a("el-row",{key:n,staticClass:"row-mapping",attrs:{gutter:20}},[a("el-col",{staticClass:"mapping-col column-desp",attrs:{span:6}},[e._v("\n        "+e._s(t.columnName)+"\n      ")]),e._v(" "),a("el-col",{staticClass:"mapping-col column-desp",attrs:{span:8}},[e._v("\n        "+e._s(t.columnType)+"\n      ")]),e._v(" "),a("el-col",{staticClass:"mapping-col",attrs:{span:10}},[a("el-select",{attrs:{placeholder:"请选择类型",column:t.columnName},model:{value:t.javaType.fullName,callback:function(a){e.$set(t.javaType,"fullName",a)},expression:"mapping.javaType.fullName"}},e._l(e.singleTableMapping.javaTypes,function(e,t){return a("el-option",{key:t,attrs:{value:e.fullName,label:e.fullName}})}),1)],1)],1)}),1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.singleTableMappingModalShow=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.setSingleTableMapping}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var ce={name:"ContentPanel",components:{Project:w,Entity:T,Mapper:L,Repository:$,Service:P,Controller:R,MappingModal:B,ChooseSettingModal:J,EditLinkModal:Y,DeleteLinkModal:z,CreateLinkModal:ee,SaveSettingModal:ne,SingleTableMappingModal:a("VU/8")(se,re,!1,function(e){a("EfJj")},"data-v-67c429d8",null).exports,InfoModal:le},computed:i()({},Object(u.c)(["linkIsOpen","currentLinkInfo","projectSetting","entitySetting","mapperSetting","repositorySetting","serviceSetting","controllerSetting"])),methods:{infoModalShow:function(){this.$store.dispatch("infoModalShow",!0)},saveSettingModalShow:function(){this.$store.dispatch("saveSettingModalShow",!0)},generateCode:function(){var e=this,t=function(e){var t=[];return e.currentLinkInfo.databases.forEach(function(e){var a=[];if(e.tables.forEach(function(e){e.checked&&a.push({table:e.name})}),a.length>0){var n={database:e.name,tables:a};t.push(n)}}),t}(this);0!==t.length?function(e){if("{}"===b()(e.currentLinkInfo))return e.$message({message:"请打开连接后,选择要生成代码的表!",type:"warning"}),!1;if(!e.projectSetting.projectPackage)return e.$message({message:"请输入项目包名!",type:"warning"}),!1;if(!e.projectSetting.codePath)return e.$message({message:"请输入代码保存路径!",type:"warning"}),!1;if(!e.entitySetting.entityPackage)return e.$message({message:"请输entity包名!",type:"warning"}),!1;if(!e.mapperSetting.mapperPackage)return e.$message({message:"请输mapper包名!",type:"warning"}),!1;if(e.projectSetting.createService&&!e.serviceSetting.servicePackage)return e.$message({message:"请输service包名!",type:"warning"}),!1;if(e.projectSetting.createController&&!e.controllerSetting.controllerPackage)return e.$message({message:"请输controller包名!",type:"warning"}),!1;return!0}(this)&&(d.a.publish("generating",!0),setTimeout(function(){e.$store.dispatch("generateCode",t)},1e3)):this.$message({message:"请打开连接后,选择要生成代码的表!",type:"warning"})},openCodeFolder:function(){this.$store.dispatch("openCodeFolder")}}};var pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"75%",id:"main"}},[a("Project"),e._v(" "),a("Entity"),e._v(" "),a("Mapper",{directives:[{name:"show",rawName:"v-show",value:3!==e.projectSetting.ormType,expression:"projectSetting.ormType!==3"}]}),e._v(" "),a("Repository",{directives:[{name:"show",rawName:"v-show",value:3===e.projectSetting.ormType,expression:"projectSetting.ormType===3"}]}),e._v(" "),a("Service"),e._v(" "),a("Controller"),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10,offset:7}},[a("el-button",{attrs:{type:"primary",disabled:!e.linkIsOpen},on:{click:e.saveSettingModalShow}},[e._v("保存配置")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.projectSetting.codePath},on:{click:e.openCodeFolder}},[e._v("打开目录")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:!e.linkIsOpen},on:{click:e.generateCode}},[e._v("生成代码")])],1),e._v(" "),a("el-col",{attrs:{span:3,offset:4}},[a("a",{staticClass:"info",on:{click:e.infoModalShow}},[e._v("软件信息")])])],1),e._v(" "),a("MappingModal"),e._v(" "),a("ChooseSettingModal"),e._v(" "),a("EditLinkModal"),e._v(" "),a("DeleteLinkModal"),e._v(" "),a("CreateLinkModal"),e._v(" "),a("SaveSettingModal"),e._v(" "),a("SingleTableMappingModal"),e._v(" "),a("InfoModal")],1)},staticRenderFns:[]};var de={name:"App",components:{LinkPanel:h,ContentPanel:a("VU/8")(ce,pe,!1,function(e){a("YdhT")},"data-v-bcd9df8a",null).exports},mounted:function(){var e=this;d.a.subscribe("generating",function(t,a){e.generating=a}),window.app=this,this.$store.dispatch("loadLinks")},data:function(){return{generating:!1}}},ue={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{directives:[{name:"loading",rawName:"v-loading",value:this.generating,expression:"generating"}],staticStyle:{border:"1px solid #eee"},attrs:{"element-loading-text":"正在生成代码,请稍后...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[t("LinkPanel"),this._v(" "),t("ContentPanel")],1)},staticRenderFns:[]};var ge=a("VU/8")(de,ue,!1,function(e){a("2qXa")},"data-v-91901d24",null).exports,me=a("zL8q"),ve=a.n(me),fe=(a("tvR6"),{tableHasSelected:function(e){var t=0;return!!e.currentLinkInfo&&(!!e.currentLinkInfo.databases&&(e.currentLinkInfo.databases.forEach(function(e){e.tables.forEach(function(e){e.checked&&t++})}),console.log("被选择的表数量是:"+t),t>0))},isSingleTable:function(e){var t=0,a=e.currentLinkInfo.databases;return console.log(b()(a)),a.forEach(function(e){e.tables.forEach(function(e){e.checked&&t++})}),1===t},mappingModalShow:function(e){return e.mappingModalShow},singleTableMappingModalShow:function(e){return e.singleTableMappingModalShow},chooseSettingModalShow:function(e){return e.chooseSettingModalShow},editLinkModalShow:function(e){return e.editLinkModalShow},deleteLinkModalShow:function(e){return e.deleteLinkModalShow},createLinkModalShow:function(e){return e.createLinkModalShow},saveSettingModalShow:function(e){return e.saveSettingModalShow},infoModalShow:function(e){return e.infoModalShow},projectSetting:function(e){return e.projectSetting},entitySetting:function(e){return e.entitySetting},mapperSetting:function(e){return e.mapperSetting},serviceSetting:function(e){return e.serviceSetting},controllerSetting:function(e){return e.controllerSetting},linkInfos:function(e){return e.linkInfos},javaTypes:function(e){return e.javaTypes},checkAll:function(e){if(!e.currentDatabase)return!1;var t=e.currentDatabase.tables,a=t.filter(function(e){return e.checked}).length;return a===t.length&&a>0}}),he={mappingModalShow:function(e,t){var a=t.flag;e.mappingModalShow=a,e.singleTable={}},singleTableMappingModalShow:function(e,t){var a=t.flag;e.singleTableMappingModalShow=a},chooseSettingModalShow:function(e,t){var a=t.flag;try{var n=e.currentLinkInfo.id,o=webEngine.invoke1("/loadSettings",n);e.settings=JSON.parse(o)}catch(t){console.error(t),"dev"===e.environment&&(e.settings=[{name:"配置1",id:1},{name:"配置2",id:2},{name:"配置3",id:3}])}e.chooseSettingModalShow=a},editLinkModalShow:function(e,t){var a=t.flag;e.editLinkModalShow=a},deleteLinkModalShow:function(e,t){var a=t.flag;e.deleteLinkModalShow=a},createLinkModalShow:function(e,t){var a=t.flag,n=b()(e.defaultLinkInfo);e.newLinkInfo=JSON.parse(n),e.createLinkModalShow=a},saveSettingModalShow:function(e,t){var a=t.flag;"{}"!==b()(e.currentLinkInfo)?e.saveSettingModalShow=a:e.saveSettingModalShow=!1},infoModalShow:function(e,t){var a=t.flag;e.infoModalShow=a},setCurrentLinkInfo:function(e,t){var a=t.linkInfo;e.currentLinkInfo=a,e.currentLinkInfoCopy=JSON.parse(b()(a))},setCurrentDatabase:function(e,t){var a=t.database;e.currentDatabase=a},checkAll:function(e,t){var a=t.database;a.tables.forEach(function(e){e.checked=a.checked})},cancelCheckAll:function(e){e.linkInfos.forEach(function(e){e.databases&&e.databases.forEach(function(e){e.checked=!1,e.tables.forEach(function(e){e.checked=!1})})})},loadLinks:function(e){console.log("加载环境变量"),setTimeout(function(){try{e.environment=window.webEngine.invoke0("/loadEnvironmentInfo"),"dev"!==e.environment&&(e.projectSetting.projectPackage="",e.projectSetting.codePath="");var t=window.webEngine.invoke0("/loadLinks"),a=JSON.parse(t);a.forEach(function(e){return e.databases=[]}),e.linkInfos=a}catch(t){window.app.$message({message:"加载连接失败!",type:"warning"}),console.log(t),"dev"===e.environment&&(e.linkInfos=[{id:1,name:"mysql",user:"root",password:"root",host:"127.0.0.1",port:"3306",databaseType:"mysql",databases:[]},{id:2,name:"mariadb",user:"root",password:"root",host:"127.0.0.1",port:"4306",databaseType:"mariadb",databases:[]},{id:3,name:"oracle",user:"scott",password:"TIGGER",host:"192.168.31.211",port:"1521",databaseType:"oracle",databases:[]},{id:3,name:"sqlServer",user:"root",password:"root",host:"192.168.31.109",port:"1433",databaseType:"sqlserver",databases:[]}])}},500)},loadDatabases:function(e,t){var a=t.linkInfo;try{var n=window.webEngine.invoke1("/loadDatabases",b()(a));a.databases=JSON.parse(n),e.linkIsOpen=!0}catch(t){d.a.publish("loadDatabases"),console.log(t),"dev"===e.environment&&(e.linkIsOpen=!0,a.databases=[{name:"mysql",checked:!1,tables:[{name:"t_user",checked:!1},{name:"t_order",checked:!1}]},{name:"test",checked:!1,tables:[{name:"cfg_operation",checked:!1},{name:"t_menu",checked:!1}]}])}},updateLink:function(e){var t=b()(e.currentLinkInfoCopy);try{webEngine.invoke1("/updateLink",t),window.app.$message({message:"修改连接成功!",type:"success"})}catch(e){window.app.$message({message:"修改连接失败!",type:"warning"}),console.error(e)}e.currentLinkInfo.name=e.currentLinkInfoCopy.name},saveLink:function(e){var t=b()(e.newLinkInfo);try{t=webEngine.invoke1("/saveLink",t),window.app.$message({message:"保存连接成功!",type:"success"})}catch(e){window.app.$message({message:"保存连接失败!",type:"warning"}),console.error(e)}var a=JSON.parse(t);a.databases=[],e.linkInfos.splice(e.linkInfos.length,0,a)},deleteLink:function(e){var t=e.currentLinkInfo.id;try{webEngine.invoke1("/deleteLink",t+""),window.app.$message({message:"删除连接成功!",type:"success"})}catch(e){window.app.$message({message:"删除连接失败!",type:"warning"}),console.error(e)}for(var a=-1,n=0;n<e.linkInfos.length;n++)if(e.currentLinkInfo===e.linkInfos[n]){a=n;break}-1!==a&&e.linkInfos.splice(a,1),e.currentLinkInfo={}},loadSettingDetail:function(e,t){var a=t.settingId;try{var n=webEngine.invoke1("/loadSettingDetail",a+"");n=JSON.parse(n),e.projectSetting=n.project,e.entitySetting=n.entity,e.mapperSetting=n.mapper,e.repositorySetting=n.repository,e.serviceSetting=n.service,e.controllerSetting=n.controller,window.app.$message({message:"加载配置成功!",type:"success"})}catch(e){window.app.$message({message:"加载配置失败!",type:"warning"}),console.error(e)}},saveSettings:function(e,t){var a=t.name;try{var n={project:e.projectSetting,entity:e.entitySetting,mapper:e.mapperSetting,repository:e.repositorySetting,service:e.serviceSetting,controller:e.controllerSetting},o={linkId:e.currentLinkInfo.id,name:a,settings:n,dbType:e.currentLinkInfo.databaseType};webEngine.invoke1("/saveSettings",b()(o)),window.app.$message({message:"保存配置成功!",type:"success"})}catch(e){console.error(e),window.app.$message({message:"保存配置失败!",type:"warning"})}},generateCode:function(e,t){var a=t.databases;e.generating=!0;var n=!0;e.generating=!0;try{e.entitySetting.mapping=e.customeMapping;var o={id:e.currentLinkInfo.id,settings:{project:e.projectSetting,entity:e.entitySetting,mapper:e.mapperSetting,repository:e.repositorySetting,service:e.serviceSetting,controller:e.controllerSetting},databases:a},i="";window.isSingleTable(e.currentLinkInfo)&&(i=b()(e.singleTableMappings)),console.log(b()(o)),webEngine.invoke2("/generateCode",b()(o),i)}catch(e){console.error(e),n=!1}e.generating=!1,d.a.publish("generating",!1),setTimeout(function(){n?window.app.$message({message:"代码生成完成!",type:"success"}):window.app.$message({message:"代码生成失败!",type:"warning"})},500)},loadMappings:function(e,t){var a=t.settingId,n=["java.lang.String","java.lang.Long","java.lang.Integer"],o=JSON.parse('[{"columnType":"int","columnTypeId":1,"fullName":"java.lang.Integer","javaTypeId":3},{"columnType":"tinyint","columnTypeId":2,"fullName":"java.lang.Integer","javaTypeId":3},{"columnType":"smallint","columnTypeId":3,"fullName":"java.lang.Integer","javaTypeId":3},{"columnType":"mediumint","columnTypeId":4,"fullName":"java.lang.Integer","javaTypeId":3},{"columnType":"integer","columnTypeId":5,"fullName":"java.lang.Integer","javaTypeId":3},{"columnType":"bigint","columnTypeId":6,"fullName":"java.lang.Long","javaTypeId":2},{"columnType":"float","columnTypeId":7,"fullName":"java.lang.Float","javaTypeId":16},{"columnType":"double","columnTypeId":8,"fullName":"java.lang.Double","javaTypeId":17},{"columnType":"varchar","columnTypeId":10,"fullName":"java.lang.String","javaTypeId":1},{"columnType":"tinyblob","columnTypeId":11,"fullName":"java.sql.Blob","javaTypeId":9},{"columnType":"tinytext","columnTypeId":12,"fullName":"java.lang.String","javaTypeId":1},{"columnType":"blob","columnTypeId":13,"fullName":"java.sql.Blob","javaTypeId":9},{"columnType":"text","columnTypeId":14,"fullName":"java.lang.String","javaTypeId":1},{"columnType":"mediumblob","columnTypeId":15,"fullName":"java.sql.Blob","javaTypeId":9},{"columnType":"mediumtext","columnTypeId":16,"fullName":"java.lang.String","javaTypeId":1},{"columnType":"longblob","columnTypeId":17,"fullName":"java.sql.Blob","javaTypeId":9},{"columnType":"longtext","columnTypeId":18,"fullName":"java.lang.String","javaTypeId":1},{"columnType":"date","columnTypeId":19,"fullName":"java.time.LocalDate","javaTypeId":12},{"columnType":"time","columnTypeId":20,"fullName":"java.time.LocalTime","javaTypeId":14}]');try{var i=b()(e.currentLinkInfo),l=webEngine.invoke2("/loadMappings",i,a),s=JSON.parse(l);n=s.javaTypes,o=s.mappingSettings}catch(e){window.app.$message({message:"加载映射失败!",type:"warning"}),console.error(e)}e.javaTypes=n,e.mappingSettings=o},customeMapping:function(e,t){var a=t.mapping;e.customeMapping=a},loadSingleTableMapping:function(e,t){var a=t.tableInfo;if("{}"===b()(e.singleTable)||e.singleTable.database!==a.database||e.singleTable.table!==a.table){e.singleTable=a;try{var n=webEngine.invoke4("/loadSingleTableMapping",e.entitySetting.primaryKeyName,a.database,a.table,b()(e.currentLinkInfo));e.singleTableMapping=JSON.parse(n)}catch(t){if(console.log(t),"dev"===e.environment){e.singleTableMapping=JSON.parse('{"javaTypes":[{"fullName":"java.lang.String","id":1,"needImport":false,"shortName":"String"},{"fullName":"java.lang.Long","id":2,"needImport":false,"shortName":"Long"},{"fullName":"java.lang.Integer","id":3,"needImport":false,"shortName":"Integer"},{"fullName":"java.lang.Boolean","id":4,"needImport":false,"shortName":"Boolean"},{"fullName":"java.lang.Byte","id":5,"needImport":false,"shortName":"Byte"},{"fullName":"java.util.Date","id":6,"needImport":true,"shortName":"Date"},{"fullName":"java.sql.Date","id":7,"needImport":true,"shortName":"Date"},{"fullName":"java.sql.Timestamp","id":8,"needImport":true,"shortName":"Timestamp"},{"fullName":"java.sql.Blob","id":9,"needImport":true,"shortName":"Blob"},{"fullName":"java.math.BigDecimal","id":10,"needImport":true,"shortName":"BigDecimal"},{"fullName":"java.math.BigInteger","id":11,"needImport":true,"shortName":"BigInteger"},{"fullName":"java.time.LocalDate","id":12,"needImport":true,"shortName":"LocalDate"},{"fullName":"java.time.LocalDateTime","id":13,"needImport":true,"shortName":"LocalDateTime"},{"fullName":"java.time.LocalTime","id":14,"needImport":true,"shortName":"LocalTime"},{"fullName":"java.lang.Short","id":15,"needImport":false,"shortName":"Short"},{"fullName":"java.lang.Float","id":16,"needImport":false,"shortName":"Float"},{"fullName":"java.lang.Double","id":17,"needImport":false,"shortName":"Double"},{"fullName":"java.lang.Character","id":18,"needImport":false,"shortName":"Character"},{"fullName":"java.sql.Clob","id":19,"needImport":true,"shortName":"Clob"},{"fullName":"byte[]","id":21,"needImport":false,"shortName":"byte[]"}],"mappings":[{"columnName":"id","columnType":"int","javaType":{"fullName":"java.lang.Integer","needImport":false,"shortName":"Integer"}},{"columnName":"password","columnType":"varchar","javaType":{"fullName":"java.lang.String","needImport":false,"shortName":"String"}},{"columnName":"createTime","columnType":"datetime","javaType":{"fullName":"java.time.LocalDateTime","needImport":true,"shortName":"LocalDateTime"}},{"columnName":"username","columnType":"varchar","javaType":{"fullName":"java.lang.String","needImport":false,"shortName":"String"}},{"columnName":"birthday","columnType":"datetime","javaType":{"fullName":"java.time.LocalDateTime","needImport":true,"shortName":"LocalDateTime"}}]}')}window.app.$message({message:"加载映射失败!",type:"warning"})}}},setSingleTableMapping:function(e,t){var a=t.singleTableMappings;this.state.singleTableMappings=a},openCodeFolder:function(e){webEngine.invoke1("/openCodeFolder",e.projectSetting.codePath)}};n.default.use(u.a);var Se=new u.a.Store({state:{tableHasSelected:!1,mappingModalShow:!1,chooseSettingModalShow:!1,editLinkModalShow:!1,deleteLinkModalShow:!1,createLinkModalShow:!1,saveSettingModalShow:!1,infoModalShow:!1,singleTableMappingModalShow:!1,singleTableMapping:{},singleTableMappings:[],singleTable:{},modalWidth:"35%",currentLinkInfo:{},currentLinkInfoCopy:{},currentDatabase:null,environment:"dev",newLinkInfo:{},linkIsOpen:!1,defaultLinkInfo:{name:"新建连接",user:"root",password:"root",host:"127.0.0.1",port:"3306",databaseType:"mysql",service:"orcl"},settings:[],linkInfos:[],projectSetting:{projectPackage:"c.n",codePath:"E:\\test5",useSwagger:!1,useLombok:!0,createService:!0,createController:!0,useShiro:!1,tablePrefix:"t_",ormType:2,author:"",copyright:""},entitySetting:{entityPackage:"entity",primaryKeyName:"id",primaryKeyType:"java.lang.Long",equalAndHash:!0,m2String:!0,noArgConstructor:!0,chain:!0,excludeColumns:"",baseClassFullName:"",strategy:"0"},repositorySetting:{repositoryPackage:"repository",repositorySufix:"Repository",useRepositoryAnonntation:!0},mapperSetting:{mapperPackage:"mapper",mapperSufix:"Mapper",extendBaseMapper:!0,useMapperAnonntation:!0},serviceSetting:{servicePackage:"service",createInterface:!0,useBaseService:!0,startWithI:!1,useTransactional:!0},controllerSetting:{controllerPackage:"web",methodReturnTypeFullName:"",useRestful:!0,forceIdOperate:!0,returnTypeStaticMethod:""},mappingSettings:[],javaTypes:[],customeMapping:{}},actions:{singleTableMappingModalShow:function(e,t){(0,e.commit)("singleTableMappingModalShow",{flag:t})},mappingModalShow:function(e,t){(0,e.commit)("mappingModalShow",{flag:t})},chooseSettingModalShow:function(e,t){(0,e.commit)("chooseSettingModalShow",{flag:t})},editLinkModalShow:function(e,t){(0,e.commit)("editLinkModalShow",{flag:t})},deleteLinkModalShow:function(e,t){(0,e.commit)("deleteLinkModalShow",{flag:t})},createLinkModalShow:function(e,t){(0,e.commit)("createLinkModalShow",{flag:t})},saveSettingModalShow:function(e,t){(0,e.commit)("saveSettingModalShow",{flag:t})},infoModalShow:function(e,t){(0,e.commit)("infoModalShow",{flag:t})},setCurrentLinkInfo:function(e,t){(0,e.commit)("setCurrentLinkInfo",{linkInfo:t})},setCurrentDatabase:function(e,t){(0,e.commit)("setCurrentDatabase",{database:t})},cancelCheckAll:function(e){(0,e.commit)("cancelCheckAll")},checkAll:function(e,t){(0,e.commit)("checkAll",{database:t})},loadLinks:function(e){(0,e.commit)("loadLinks")},loadDatabases:function(e,t){(0,e.commit)("loadDatabases",{linkInfo:t})},updateLink:function(e){(0,e.commit)("updateLink")},saveLink:function(e){(0,e.commit)("saveLink")},deleteLink:function(e){(0,e.commit)("deleteLink")},loadSettingDetail:function(e,t){(0,e.commit)("loadSettingDetail",{settingId:t})},saveSettings:function(e,t){(0,e.commit)("saveSettings",{name:t})},generateCode:function(e,t){(0,e.commit)("generateCode",{databases:t})},customeMapping:function(e,t){(0,e.commit)("customeMapping",{mapping:t})},loadMappings:function(e,t){(0,e.commit)("loadMappings",{settingId:t})},loadSingleTableMapping:function(e,t){(0,e.commit)("loadSingleTableMapping",{tableInfo:t})},setSingleTableMapping:function(e,t){(0,e.commit)("setSingleTableMapping",{singleTableMappings:t})},openCodeFolder:function(e){(0,e.commit)("openCodeFolder")}},getters:fe,mutations:he});a("7xIN");n.default.use(ve.a),n.default.config.productionTip=!1,new n.default({el:"#app",render:function(e){return e(ge)},store:Se})},S6l4:function(e,t){},U21L:function(e,t){},Uyrb:function(e,t){},XJnA:function(e,t){},YdhT:function(e,t){},YlnS:function(e,t){},fMp7:function(e,t){},gPly:function(e,t){},lFhD:function(e,t){},pym0:function(e,t){},tvR6:function(e,t){},vyHo:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.155d0874b182724a6fc7.js.map